@model web_fitness.Models.Meeting

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>
<head>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script>
        var val;
        var p;
        var result;
        $.ajax({
            url: "https://api.ratesapi.io/api/latest?base=ILS&symbols=USD",
            success: function (res) {
                val = res.rates.USD;
                $(document).ready(function () {
                    p = parseInt($("#modelPrice").text());
                    result = '($' + (val * p).toFixed(2) + ')';
                    $("#dollarPrice").append(result);
                });
            }
        })
    </script>
</head>

<div>
    <h4>Meeting</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MeetID)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MeetID)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Trainer)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Trainer.FirstName)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.TrainType)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.TrainType.Name)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Price)
        </dt>
        <dd>
            <div id="price">
                <div id="shekel" style="display: inline-block;">₪</div>
                <div id="modelPrice" style="display: inline-block;">
                    @Html.DisplayFor(model => model.Price)
                </div>
                <div id="dollarPrice" style="display: inline-block;">
                </div>
            </div>
        </dd>

    </dl>
</div>
<div>
    @Html.ActionLink("Edit", "Edit", new { id = Model.MeetID }) |
    <a asp-action="Index">Back to List</a>
</div>
